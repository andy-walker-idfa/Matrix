# Matrix/Element Self-Hosted Messaging System
# Environment Configuration Template
#
# Copy this file to .env and fill in your values
# DO NOT commit .env to version control!

###############################################################################
# Server Configuration
###############################################################################

# Primary domain for your Matrix server
# This is the domain users will use to connect (e.g., @user:matrix.example.com)
SYNAPSE_SERVER_NAME=matrix.example.com

# SSL certificate domain
# Can be the same as SYNAPSE_SERVER_NAME or a wildcard (e.g., *.example.com)
SSL_CERT_DOMAIN=matrix.example.com

# External IP address of your server
# Required for WebRTC/LiveKit video calls to work properly
NODE_IP=1.2.3.4

# Administrator email
# Used for SSL certificate registration and system notifications
ADMIN_EMAIL=admin@example.com

# Timezone (default: Europe/Prague)
# See: https://en.wikipedia.org/wiki/List_of_tz_database_time_zones
# Common values: UTC, Europe/Prague, America/New_York, Asia/Tokyo, etc.
TZ=Europe/Prague

###############################################################################
# Synapse (Matrix Homeserver) Secrets
###############################################################################

# Shared secret for user registration
# Generate with: openssl rand -base64 32
REGISTRATION_SHARED_SECRET=CHANGE_ME_RANDOM_STRING_32_CHARS

# Secret key for authentication tokens (macaroons)
# Generate with: openssl rand -base64 32
MACAROON_SECRET_KEY=CHANGE_ME_RANDOM_STRING_32_CHARS

# Secret for form security (CSRF protection)
# Generate with: openssl rand -base64 32
FORM_SECRET=CHANGE_ME_RANDOM_STRING_32_CHARS

###############################################################################
# LiveKit (Video/Audio SFU) Configuration
###############################################################################

# LiveKit API key
# Generate with: openssl rand -base64 32
APIKey=CHANGE_ME_RANDOM_STRING_32_CHARS

# LiveKit API secret
# Generate with: openssl rand -base64 32
LIVEKIT_SECRET=CHANGE_ME_RANDOM_STRING_32_CHARS

###############################################################################
# Matrix Authentication Service (MAS) Configuration
###############################################################################

# MAS database encryption secret
# Generate with: openssl rand -base64 32
MAS_ENCRYPTION_SECRET=CHANGE_ME_RANDOM_STRING_32_CHARS

# MAS JWT token signing key
# Generate with: openssl rand -base64 32
MAS_SIGNING_KEY=CHANGE_ME_RANDOM_STRING_32_CHARS

# Shared secret between MAS and Synapse
# Generate with: openssl rand -base64 32
MAS_SYNAPSE_SECRET=CHANGE_ME_RANDOM_STRING_32_CHARS

# MAS admin token for Synapse administrative access
# Generate with: openssl rand -base64 32
MAS_ADMIN_TOKEN=CHANGE_ME_RANDOM_STRING_32_CHARS

###############################################################################
# Quick Setup Instructions
###############################################################################
#
# 1. Copy this file to .env:
#    cp .env.example .env
#
# 2. Run the initialization script:
#    chmod +x init.sh
#    ./init.sh
#
# 3. The script will:
#    - Prompt for your domain and IP
#    - Auto-generate all secrets
#    - Create all configuration files
#    - Generate Synapse signing key
#
# 4. Obtain SSL certificates:
#    sudo certbot certonly --standalone -d your-domain.com
#
# 5. Start the services:
#    docker-compose up -d
#
###############################################################################
